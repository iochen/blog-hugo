<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.74.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><link rel=preload href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" as=font><title>从订阅链接生成V2Ray配置 - V2Gen的使用&nbsp;&ndash;&nbsp;Richard Chen's Blog</title><link href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css rel=stylesheet rel=preload as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/css/core.min.557e0a83d4005903199dab1bea2ca687eea4e9446d981e750f1adb938250c0bf5a28160fb840e3d24c9f22bea1e66433.css integrity=sha384-VX4Kg9QAWQMZnasb6iymh+6k6URtmB51Dxrbk4JQwL9aKBYPuEDj0kyfIr6h5mQz crossorigin=anonymous><meta name=twitter:card content="summary"><meta name=twitter:title content="从订阅链接生成V2Ray配置 - V2Gen的使用"><body><section id=header><div class="header wrap"><span class=header><a class="site home" href=/><img class="site logo" src=https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/images/logo.svg crossorigin=anonymous alt><span class="site name">Richard Chen's Blog</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a>&nbsp;|&nbsp;<a class="nav item" href=/tags/>Tags</a>&nbsp;|&nbsp;<a class="nav item" href=/about/>About</a>&nbsp;|&nbsp;<a class="nav item" href=/links/>Links</a>&nbsp;|&nbsp;<a class="nav item" href=/search/>Search</a>&nbsp;|&nbsp;</nav></div></span><span class="m-header right-side"><button onclick="Toggle('menu')" class=menubtn><i class="fa fa-bars fa-lg" aria-hidden=true></i></button></span><ul id=menu class="menu dropdown"><li class=menu-item><a href=/categories/><br>Categories</a></li><li class=menu-item><a href=/tags/><br>Tags</a></li><li class=menu-item><a href=/about/><br>About</a></li><li class=menu-item><a href=/links/><br>Links</a></li><li class=menu-item><a href=/search/><br>Search</a></li></ul><script>function Toggle(id){var dropdown=document.getElementById(id);if(dropdown.classList.contains('show')){dropdown.classList.remove('show');}else{dropdown.classList.add('show');}}</script></div></section><section id=content><div class=article-container><section class="article header"><h2 class=title>从订阅链接生成V2Ray配置 - V2Gen的使用</h2><div class=post-meta><i class="fa fa-calendar-o"></i>&nbsp;<span>2020-02-02</span><a> | </a><i class="fa fa-folder-o"></i>&nbsp;<a class=post-meta href=/categories/myapps/>MyApps&nbsp;&nbsp;</a></div></section><article class="article markdown-body"><h1 id=v2gen>V2Gen</h1><p>从订阅以及 <code>vmess://XXXXXXXXXXXX</code> 链接中生成 V2Ray json 文件</p><h2 id=项目地址>项目地址</h2><p><em><b><a href=https://github.com/iochen/v2gen/ target=_blank>&nbsp;<i class="fa fa-external-link" aria-hidden=true style=font-size:small></i><em><strong>github.com/iochen/v2gen</strong></em>&nbsp;</a></b></em></p><h2 id=使用预览>使用预览</h2><pre><code class=language-bash>richard@openSUSE~&gt; v2gen -u &quot;https://example.ltd/xxxxxx&quot;
[0]     中继香港G1 Media (HK)(1)        [21.00ms (cu2.example.ltd)]
[1]     中继香港G2 Media (HK)(1)        [21.02ms (cu1.example.ltd)]
[2]     中继香港C1 Media (HK)(1)        [34.36ms (hkc1.example.ltd)]
[3]     中继香港C2 Media (HK)(1)        [39.67ms (hkc2.example.ltd)]
[4]     中继香港C3 Media (HK)(1)        [43.59ms (hkc3.example.ltd)]
[5]     中继香港C4 Media (HK)(1)        [35.71ms (hkc4.example.ltd)]
...(节点过多，不一一展示)
[47]    美国GIA 3 Media (US)(0.7)       [140.48ms (us3.example.ltd)]
[48]    香港 8 (HK)(1)                  [70.38ms (hk9.example.ltd)]
[49]    香港 9 (HK)(1)                  [72.74ms (hk10.example.ltd)]
[50]    香港负载均衡 1 Test (HK)(1)      [16.41ms (1.1.1.1)]
=====================
Please Select:
</code></pre><p>你可以到<em><b><a href=/donate/>&nbsp;<i class="fa fa-external-link" aria-hidden=true style=font-size:small></i><em><strong>这里</strong></em>&nbsp;</a></b></em>使用博主的AFF</p><h2 id=如何安装>如何安装</h2><p>编译它（请确保您的<code>$GOPATH/bin/</code>已添加至<code>$PATH</code>中）</p><pre><code class=language-sh>go get -u github.com/iochen/v2gen/cmd
</code></pre><p>或者到 <em><b><a href=https://github.com/iochen/v2gen/releases target=_blank>&nbsp;<i class="fa fa-external-link" aria-hidden=true style=font-size:small></i><em><strong>GitHub Release</strong></em>&nbsp;</a></b></em> 下载</p><h2 id=常用情景>常用情景</h2><pre><code class=language-bash>v2gen -u &quot;https://example.ltd/xxxxxx&quot; -o &lt;V2Ray配置文件路径&gt; # -o 参数不加，为默认路径
v2gen -u &quot;https://example.ltd/xxxxxx&quot; -r  # 随机节点
v2gen -u &quot;https://example.ltd/xxxxxx&quot; -n &lt;节点编号&gt; -o &quot;-&quot; | jq .  # 使用管道进行进阶操作（此处为举例）
</code></pre><h2 id=参数>参数</h2><pre><code class=language-Usage>Usage of v2gen:
  -c string
        v2gen配置文件路径 (default &quot;/etc/v2ray/v2gen.ini&quot;)
  -init
        初始化v2gen配置文件
  -n int
        节点引索 (default -1)
  -np
        不ping
  -o string
        输出路径 (default &quot;/etc/v2ray/config.json&quot;)
  -r    随机节点引索
  -tpl string
        V2Ray模板路径
  -u string
        订阅链接
  -v    展示版本
  -vmess string
        vmess 链接
</code></pre><h2 id=v2gen-用户配置>V2Gen 用户配置</h2><p>你可以使用 <code>v2gen --init</code> 来生成一个新的</p><pre><code class=language-yaml># V2Ray 日志等级
# ( debug | info | warning | error | none )
loglevel: warning

# Socks 端口
socksPort: 1080

# Http 端口
httpPort: 1081

# 是否允许UDP流量
# ( true | false )
udp: true

# 安全
# ( aes-128-gcm | aes-256-gcm | chacha20-poly1305 | auto | none )
security: aes-256-gcm

# 是否开启 mux
# ( true | false )
mux: true

# Mux 并发数
concurrency: 8

# DNS 服务器
dns1: 9.9.9.9
dns2: 1.1.1.1

# 中国IP与网站是否直连
# ( true | false )
china: true

</code></pre><p>下面的配置可能不会在所有节点上生效</p><pre><code class=language-yaml># 是否允许不安全连接 ( true | false )
allowInsecure: false

# KCP mtu 值
mtu: 1350

# KCP tti 值
tti: 20

# KCP 最大上行速度
# 单位: MB/s
up: 5

# KCP 最大下行速度
# 单位: MB/s
down: 20

# 是否开启 UDP 拥堵控制 ( true | false )
congestion: false

# 读缓冲区大小
# 单位: MB
readBufferSize: 1

# 写缓冲区大小
# 单位: MB
writeBufferSize: 1
</code></pre><h2 id=版本>版本</h2><p><em>V1.1.2</em></p><h2 id=todo>TODO</h2><ul><li><em>V1.2.1</em>: <strong>VmessPing</strong></li></ul><h2 id=协议>协议</h2><p>MIT LICENSE</p><h2 id=注意>注意</h2><p>不支持第一版本格式</p></article><section class="article license"><table class=license><tr><td><b>AUTHOR</b></td><td><b>&nbsp;&nbsp;:&nbsp;&nbsp;</b></td><td>Richard Chen</td></tr><tr><td><b>ARTICLE LICENSE</b></td><td><b>&nbsp;&nbsp;:&nbsp;&nbsp;</b></td><td>ff</td></tr><tr><td><b>CODE LICENSE</b></td><td><b>&nbsp;&nbsp;:&nbsp;&nbsp;</b></td><td>dd</td></tr></table></section></div><div class="article bottom"><section class="article navigation"><p>Next: <a class=link href=/post/filesize-puzzle/><span class="iconfont icon-article"></span>[Unsolved] Wrong file size</a></p><p>Prev: <a class=link href=/post/binary-nixie-tube-clock/><span class="iconfont icon-article"></span>二进制辉光钟(DIY)</a></p></section></div></section><section id=footer><div class=footer-wrap><span class=copyright>©2020 Richard Chen.</span> |
<span class=powerby><span>Powered by</span>
<a href=/powered-by/>these</a><span> projects.</span></span></div></section></body></html>