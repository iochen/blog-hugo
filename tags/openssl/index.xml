<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>openssl on Richard Chen's Blog</title><link>https://iochen.com/tags/openssl/</link><description>Recent content in openssl on Richard Chen's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><copyright>Â©2020-2021 Richard Chen.</copyright><lastBuildDate>Sat, 10 Feb 2018 11:44:49 +0000</lastBuildDate><atom:link href="https://iochen.com/tags/openssl/index.xml" rel="self" type="application/rss+xml"/><item><title>openssl RSAç®€å•ä½¿ç”¨</title><link>https://iochen.com/post/openssl-rsa-1/</link><pubDate>Sat, 10 Feb 2018 11:44:49 +0000</pubDate><guid>https://iochen.com/post/openssl-rsa-1/</guid><description>&lt;p>æœ€è¿‘çœ‹åˆ°çš„å…³äºTLSçš„æ–‡ç« æ¯”è¾ƒå¤šå•Šï¼Œæˆ‘ä¹Ÿæ¥å‡‘å‡‘çƒ­é—¹ï¼Œæ¥ä¸€ç¯‡å…³äºéå¯¹ç§°åŠ å¯†ç”¨æ³•çš„åšå®¢ã€‚å½“ç„¶äº†ï¼Œè¿™ç¯‡æ–‡ç« å¯¹ä¸æ‡‚çš„äººä¹Ÿæ²¡ä»€ä¹ˆç”¨ï¼Œæ‡‚çš„äººä¹Ÿä¸ä¼šçœ‹è¿™ç¯‡ï¼Œè¿˜æ˜¯å†™ç»™è‡ªå·±çœ‹å§&lt;/p>
&lt;p>è¿™é‡Œçš„éå¯¹ç§°åŠ å¯†ç”¨çš„æ˜¯&lt;strong>RSA&lt;/strong>&lt;/p>
&lt;h1 id="åŸºæœ¬">åŸºæœ¬&lt;/h1>
&lt;p>éå¯¹ç§°åŠ å¯†å¯†é’¥çš„ç”¨æ³•ä¸»è¦æ˜¯å¦‚ä¸‹å‡ ç§ï¼š&lt;/p>
&lt;pre>&lt;code>åŠ å¯† â†’ å…¬é’¥
è§£å¯† â†’ ç§é’¥
ç­¾å â†’ ç§é’¥
è§£å¯† â†’ ç§é’¥
&lt;/code>&lt;/pre>
&lt;h1 id="ç”¨æ³•">ç”¨æ³•&lt;/h1>
&lt;h2 id="ç”Ÿæˆå¯†é’¥">ç”Ÿæˆå¯†é’¥&lt;/h2>
&lt;h3 id="ç”Ÿæˆç§é’¥">ç”Ÿæˆç§é’¥&lt;/h3>
&lt;p>æ¯”å¦‚æˆ‘è¦ç”Ÿæˆä¸€ä¸ªå«&lt;code>pr.pem&lt;/code>çš„ç§é’¥æ–‡ä»¶ï¼Œç›´æ¥&lt;/p>
&lt;pre>&lt;code>openssl genrsa -out pr.pem
&lt;/code>&lt;/pre>
&lt;p>å°±å¯ä»¥äº†ï¼Œå°±åƒè¿™æ ·ï¼š
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/f05d8842-7080-4b4c-bcc2-bbc07ceaefc5.png"
alt="ç”Ÿæˆç§é’¥"/>&lt;/p>
&lt;h3 id="æå–å…¬é’¥">æå–å…¬é’¥&lt;/h3>
&lt;p>æ¯”å¦‚æˆ‘è¦ä»&lt;code>pr.pem&lt;/code>é‡Œæå–&lt;code>pu.pem&lt;/code>çš„å…¬é’¥ï¼Œç›´æ¥&lt;/p>
&lt;pre>&lt;code>openssl rsa -pubout -in pr.pem -out pu.pem
&lt;/code>&lt;/pre>
&lt;p>å³å¯ï¼Œå¯ä»¥çœ‹åˆ°ï¼š
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/6ed6724b-1fac-415e-bd11-8403680fe04c.png"
alt="æå–å…¬é’¥"/>&lt;/p>
&lt;h3 id="å°ç»“">å°ç»“&lt;/h3>
&lt;p>è‡³æ­¤ï¼Œå…¬é’¥å’Œç§é’¥å°±ç”Ÿæˆå¥½äº†ï¼Œæ¥çœ‹çœ‹å§ï¼&lt;br>
ç§é’¥ï¼š&lt;br>
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/b567d11b-55c7-4e2e-9629-32a406427301.png"
alt="ç§é’¥"/>
å…¬é’¥ï¼š&lt;br>
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/4f6e2b69-034f-4bdd-a02a-52ef9310e0bd.png"
alt="å…¬é’¥"/>&lt;/p>
&lt;h2 id="åŠ è§£å¯†">åŠ è§£å¯†&lt;/h2>
&lt;h3 id="åŠ å¯†">åŠ å¯†&lt;/h3>
&lt;p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå«&lt;code>test&lt;/code>çš„æ–‡ä»¶ï¼Œå†™ç‚¹ä»€ä¹ˆ
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/35036b25-44cf-4565-a645-ff2719ce065e.png"
alt="æµ‹è¯•æ–‡ä»¶"/>
æ¥ä¸‹æ¥åŠ å¯†&lt;/p>
&lt;pre>&lt;code>openssl rsautl -pubin -encrypt -in test -inkey pu.pem -out test_en
&lt;/code>&lt;/pre>
&lt;p>æ¥çœ‹çœ‹åŠ å¯†åçš„æ–‡ä»¶ï¼š&lt;br>
&lt;em>æ³¨ï¼šç°åœ¨ç”¨&lt;code>cat&lt;/code>æ˜¯çœ‹ä¸äº†çš„ï¼Œåªæ˜¯ä¸€å †ä¹±ç ï¼Œæ‰€ä»¥æˆ‘ç”¨&lt;code>hexdump&lt;/code>æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶&lt;/em>
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/a0caf393-a88d-4c94-83d5-4493d6278fa9.png"
alt="åŠ å¯†å"/>&lt;/p>
&lt;h3 id="è§£å¯†">è§£å¯†&lt;/h3>
&lt;p>ç®€å•ï¼è¾“å…¥&lt;/p>
&lt;pre>&lt;code>openssl rsautl -decrypt -in test_en -inkey pr.pem -out test_dn
&lt;/code>&lt;/pre>
&lt;p>åˆå›æ¥äº†ä¸æ˜¯å—ï¼&lt;br>
æ¥çœ‹çœ‹è§£å¯†åçš„æ–‡ä»¶ï¼š
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/ed16ca35-cee3-44ff-a71d-fbcdfd57b0eb.png"
alt="è§£å¯†å"/>
å®Œå…¨ä¸€æ ·ï¼&lt;/p>
&lt;h2 id="ç­¾åä¸éªŒè¯">ç­¾åä¸éªŒè¯&lt;/h2>
&lt;h3 id="ç­¾å">ç­¾å&lt;/h3>
&lt;p>æˆ‘æƒ³ä¸º&lt;code>test&lt;/code>æ–‡ä»¶ç­¾åï¼Œç›´æ¥&lt;/p>
&lt;pre>&lt;code>openssl dgst -sha256 -sign pr.pem -out test_sign test
&lt;/code>&lt;/pre>
&lt;p>å³å¯ç”Ÿæˆç­¾åæ–‡ä»¶&lt;code>test_sign&lt;/code>&lt;/p>
&lt;h3 id="éªŒè¯ç­¾å">éªŒè¯ç­¾å&lt;/h3>
&lt;p>ä¸€æ ·ï¼Œä¸€å¥å‘½ä»¤ï¼&lt;/p>
&lt;pre>&lt;code>openssl dgst -sha256 -verify pu.pem -signature test_sign test
&lt;/code>&lt;/pre>
&lt;p>å¥½çš„ï¼Œå¾—åˆ°ä¸€å¥
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/e3b95074-4eee-4d75-907e-682898c8d55f.png"
alt="éªŒè¯é€šè¿‡"/>
è¿™å°±æ˜¯éªŒè¯é€šè¿‡äº†&lt;/p>
&lt;p>å¦‚æœè¿™ä¸ªåŸæ¥æ•°æ®è¢«ä¸€äº›äººä¿®æ”¹åï¼Œæ¯”å¦‚ï¼š&lt;br>
&lt;em>è¿™é‡Œæˆ‘ä¸º&lt;code>test&lt;/code>æ–‡ä»¶åŠ äº†ä¸€è¡Œ&lt;/em>
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/a9569407-189a-411c-9ebe-a9a19031e2c7.png"
alt="ä¿®æ”¹å"/>
å°±ä¼šå‡ºç°ï¼š
&lt;img src="https://cdn.jsdelivr.net/gh/iochen/blog-hugo@public/img/openssl-RSA-1/d0ce75e7-7750-4b53-b574-069953fbc965.png"
alt="éªŒè¯å¤±è´¥"/>&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>è¿™é‡Œæˆ‘æœ‰ä¸€äº›æ²¡æœ‰è¯´ï¼Œå› ä¸ºå†™ç€å†™ç€å°±å†™çš„å¾ˆè¯¦ç»†å¾ˆé•¿äº†ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ&lt;em>&lt;b>&lt;a href="https://www.cnblogs.com/gordon0918/p/5382541.html"target="_blank">&amp;nbsp;&lt;i class="fa fa-external-link" aria-hidden="true" style="font-size: small">&lt;/i>è¿™ä½&amp;nbsp;&lt;/a>&lt;/b>&lt;/em>çš„åšå®¢ã€‚&lt;/p>
&lt;h1 id="ä¸ªäººæ€»ç»“">ä¸ªäººæ€»ç»“&lt;/h1>
&lt;p>å…¶å®ï¼Œæˆ‘åªè¦è®°6æ®µä»£ç å°±å¥½äº†&lt;/p>
&lt;pre>&lt;code>openssl genrsa -out pr.pem //ç”Ÿæˆ
openssl rsa -pubout -in pr.pem -out pu.pem //æå–
openssl rsautl -pubin -encrypt -in test -inkey pu.pem -out test_en //åŠ å¯†
openssl rsautl -decrypt -in test_en -inkey pr.pem -out test_dn //è§£å¯†
openssl dgst -sha256 -sign pr.pem -out test_sign test //ç­¾å
openssl dgst -sha256 -verify pu.pem -signature test_sign test //éªŒè¯
&lt;/code>&lt;/pre>
&lt;h1 id="å…¶å®ƒ">å…¶å®ƒ&lt;/h1>
&lt;ul>
&lt;li>è¿™é‡Œçš„å¯†é’¥å¯¹ä¸ä¼šåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼&lt;/li>
&lt;li>&lt;del>åšä¸»çš„æ­£å¼å…¬é’¥ï¼šåœ°å€ï¼š&lt;em>&lt;b>&lt;a href="https://mega.nz/#!sM4GDIxY"target="_blank">&amp;nbsp;&lt;i class="fa fa-external-link" aria-hidden="true" style="font-size: small">&lt;/i>https://mega.nz/#!sM4GDIxY&amp;nbsp;&lt;/a>&lt;/b>&lt;/em> å¯†é’¥ï¼š&lt;code>!0bW3hOti7GQHtkXYgXY52o8IK9RZVos7hzdZV8fA4uc&lt;/code>&lt;/del> å·²å¼ƒç”¨&lt;/li>
&lt;/ul>
&lt;p>æœ‰é—®é¢˜è¯·åœ¨ä¸‹é¢é—®ï¼ï¼ˆè‡³äºæˆ‘ä¼šä¸ä¼šâ€¦â€¦ğŸ˜­ï¼‰&lt;/p></description></item></channel></rss>